(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{118:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/connections/add",function(){return t(6157)}])},6157:function(e,r,t){"use strict";t.r(r);var a=t(5893),s=t(7294),o=t(1163),n=t(9008),l=t.n(n),i=t(6571),d=t(1664),c=t.n(d),h=t(1810),g=t(9406),m=t(6547),u=t(1798);let getRouteWithBasePath=e=>"".concat("/dashboard").concat(e),x=["Family","Friend","Partner","Colleague","Client","Mentor","Mentee","Neighbor","Other"];r.default=()=>{let e=(0,o.useRouter)(),{currentUser:r}=(0,m.a)(),[t,n]=(0,s.useState)(!1),[d,p]=(0,s.useState)(null),[b,y]=(0,s.useState)(!1),[w,k]=(0,s.useState)(""),[f,j]=(0,s.useState)(x[0]),[v,N]=(0,s.useState)(""),[S,C]=(0,s.useState)(""),[R,F]=(0,s.useState)(),[O,_]=(0,s.useState)(""),[B,E]=(0,s.useState)(""),[A,P]=(0,s.useState)(""),handleSubmit=async t=>{t.preventDefault();try{if(n(!0),p(null),!w.trim()){p("Please enter a name");return}let t={name:w.trim(),relationship:f,..."Other"===f&&{otherRelationship:v.trim()},...S&&{specificRelationship:S.trim()},...void 0!==R&&{yearsKnown:R},...O&&{communicationStyle:O.trim()},...B&&{relationshipGoal:B.trim()},...A&&{notes:A.trim()}};await (0,u.HE)(r,t),y(!0),k(""),j(x[0]),N(""),C(""),F(void 0),_(""),E(""),P(""),setTimeout(()=>{e.push(getRouteWithBasePath("/dashboard"))},1500)}catch(e){console.error("Error adding connection:",e),p(e.message||"Failed to add connection. Please try again.")}finally{n(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Add Connection | HeartGlow AI"}),(0,a.jsx)("meta",{name:"description",content:"Add a new connection to HeartGlow AI"})]}),(0,a.jsx)(g.Z,{children:(0,a.jsx)(h.Z,{children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsxs)(c(),{href:getRouteWithBasePath("/dashboard"),className:"text-heartglow-indigo dark:text-heartglow-pink hover:underline flex items-center mr-3",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-heartglow-charcoal dark:text-white",children:"Add New Connection"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Add someone special to your connections to easily create personalized messages for them."})]}),(0,a.jsx)(i.E.div,{className:"bg-white dark:bg-heartglow-deepgray rounded-xl shadow-md border border-gray-100 dark:border-gray-800 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:b?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-heartglow-charcoal dark:text-heartglow-offwhite mb-2",children:"Connection Added Successfully!"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Redirecting you back to dashboard..."})]}):(0,a.jsxs)("form",{onSubmit:handleSubmit,children:[d&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400",children:d}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"name",value:w,onChange:e=>k(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",placeholder:"Enter their name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"relationship",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Relationship ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("select",{id:"relationship",value:f,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",required:!0,children:x.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),"Other"===f&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"otherRelationship",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Specify Relationship ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"otherRelationship",value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",placeholder:"Specify their relationship to you",required:"Other"===f})]}),(0,a.jsxs)("div",{className:"Other"===f?"col-span-2":"col-span-1",children:[(0,a.jsx)("label",{htmlFor:"specificRelationship",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Specific Relationship (Optional)"}),(0,a.jsx)("input",{type:"text",id:"specificRelationship",value:S,onChange:e=>C(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",placeholder:"E.g. Brother, Boss, Best friend"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"yearsKnown",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Years Known (Optional)"}),(0,a.jsx)("input",{type:"number",id:"yearsKnown",value:R||"",onChange:e=>F(e.target.value?parseInt(e.target.value):void 0),min:"0",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",placeholder:"How many years have you known them?"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{htmlFor:"communicationStyle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Communication Style (Optional)"}),(0,a.jsx)("input",{type:"text",id:"communicationStyle",value:O,onChange:e=>_(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",placeholder:"How do they prefer to communicate?"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{htmlFor:"relationshipGoal",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Relationship Goal (Optional)"}),(0,a.jsx)("input",{type:"text",id:"relationshipGoal",value:B,onChange:e=>E(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",placeholder:"What do you hope to achieve in this relationship?"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes (Optional)"}),(0,a.jsx)("textarea",{id:"notes",value:A,onChange:e=>P(e.target.value),rows:4,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-heartglow-pink focus:border-transparent",placeholder:"Any other details about this person you'd like to remember"})]})]}),(0,a.jsxs)("div",{className:"mt-8 flex justify-end space-x-4",children:[(0,a.jsx)(c(),{href:getRouteWithBasePath("/dashboard"),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-gradient-to-r from-heartglow-pink to-heartglow-violet text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 flex items-center ".concat(t?"opacity-70 cursor-not-allowed":""),children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Connection"})]})]})})]})})})]})}}},function(e){e.O(0,[424,571,608,774,888,179],function(){return e(e.s=118)}),_N_E=e.O()}]);