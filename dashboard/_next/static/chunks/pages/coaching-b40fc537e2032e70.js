(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47],{3976:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/coaching",function(){return a(8557)}])},8477:function(e,t,a){"use strict";a.d(t,{db:function(){return c},l:function(){return s}});var n=a(3977),r=a(9451),i=a(6100);let s=(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)({apiKey:"AIzaSyBZiJPTs7dMccVgFV-YoTejnhy1bZNFEQY",authDomain:"heartglowai.firebaseapp.com",projectId:"heartglowai",storageBucket:"heartglowai.firebasestorage.app",messagingSenderId:"196565711798",appId:"1:196565711798:web:79e2b0320fd8e74ab0df17",measurementId:"G-KJMPL1DNPY"});(0,r.v0)(s);let c=(0,i.ad)(s)},8557:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return coaching}});var n=a(5893),r=a(7294),i=a(9008),s=a.n(i),c=a(1810),o=a(9406),d=a(1664),l=a.n(d),h=a(8549),u=a(6100),g=a(8477),coaching_CoachingDashboard=()=>{let{currentUser:e}=(0,h.a)(),[t,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[c,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{let fetchThreads=async()=>{if(!e){s(!1),o("Please log in to view coaching chats.");return}s(!0),o(null);try{let t=(0,u.hJ)(g.db,"coachingThreads"),n=(0,u.IO)(t,(0,u.ar)("userId","==",e.uid),(0,u.Xo)("lastActivity","desc")),r=await (0,u.PL)(n),i=r.docs.map(e=>({id:e.id,...e.data()}));a(i)}catch(e){console.error("Error fetching coaching threads: ",e),o("Failed to load coaching chats. Please try again later.")}finally{s(!1)}};fetchThreads()},[e]);let formatTimestamp=e=>{if(!e)return"N/A";let t=e instanceof u.EK?e.toDate():e;return t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})};return(0,n.jsxs)("div",{className:"p-4 md:p-6",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-900 dark:text-white",children:"Your Coaching Chats"}),(0,n.jsx)(l(),{href:"/coaching/start",passHref:!0,children:(0,n.jsx)("button",{className:"inline-flex items-center justify-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-heartglow-pink hover:bg-heartglow-pink/90 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-heartglow-pink",children:"Start New Chat"})})]}),i&&(0,n.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-heartglow-pink"})}),c&&(0,n.jsx)("p",{className:"text-center text-red-600 dark:text-red-400 py-4",children:c}),i||c||0!==t.length?null:(0,n.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:'You haven\'t started any coaching chats yet. Click "Start New Chat" to begin!'}),!i&&!c&&t.length>0&&(0,n.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,n.jsx)(l(),{href:"/coaching/".concat(e.id),passHref:!0,children:(0,n.jsxs)("div",{className:"block p-4 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer transition-colors duration-150 ease-in-out",children:[(0,n.jsx)("p",{className:"font-medium text-lg text-gray-800 dark:text-gray-100 truncate",children:e.threadTitle}),(null===(t=e.connectionSnapshot)||void 0===t?void 0:t.name)&&(0,n.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Connection: ",e.connectionSnapshot.name,e.connectionSnapshot.relationship?" (".concat(e.connectionSnapshot.relationship,")"):""]}),(0,n.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Last activity: ",formatTimestamp(e.lastActivity)]})]})},e.id)})})]})},coaching=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"HeartGlow AI | Coaching"}),(0,n.jsx)("meta",{name:"description",content:"AI Coaching for better communication - HeartGlow AI"})]}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(coaching_CoachingDashboard,{})})})]})}},function(e){e.O(0,[424,270,774,888,179],function(){return e(e.s=3976)}),_N_E=e.O()}]);