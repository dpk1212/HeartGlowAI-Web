(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{7532:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return a(7798)}])},7798:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return CreatePage}});var n=a(5893),r=a(7294),s=a(1163),i=a(9451),l=a(3977),o=a(6100);let c=(0,l.C6)().length?(0,l.C6)()[0]:(0,l.ZF)({apiKey:"AIzaSyBZiJPTs7dMccVgFV-YoTejnhy1bZNFEQY",authDomain:"heartglowai.firebaseapp.com",projectId:"heartglowai",storageBucket:"heartglowai.firebasestorage.app",messagingSenderId:"196565711798",appId:"1:196565711798:web:79e2b0320fd8e74ab0df17",measurementId:"G-KJMPL1DNPY"});(0,i.v0)(c);let d=(0,o.ad)(c),u=(0,r.createContext)({user:null,loading:!0,signIn:async()=>{},signOut:async()=>{}});function useAuth(){return(0,r.useContext)(u)}var m=a(6571);function RecipientStep(e){let{onNext:t}=e,{user:a}=useAuth(),[s,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,g]=(0,r.useState)(null),[h,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{let fetchRecipients=async()=>{if(a)try{let e=(0,o.hJ)(d,"users",a.uid,"connections"),t=(0,o.IO)(e),n=await (0,o.PL)(t),r=n.docs.map(e=>({id:e.id,...e.data()}));i(r)}catch(e){x("Failed to load recipients. Please try again."),console.error("Error fetching recipients:",e)}finally{c(!1)}};fetchRecipients()},[a]);let handleSelect=e=>{g(e)};return l?(0,n.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-heartglow-pink"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Who would you like to message?"}),(0,n.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Select a recipient from your connections"})]}),h&&(0,n.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg text-red-600 dark:text-red-400",children:h}),(0,n.jsx)("div",{className:"grid gap-4",children:0===s.length?(0,n.jsx)("div",{className:"text-center py-12",children:(0,n.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No recipients found. Add some connections first."})}):s.map(e=>(0,n.jsx)(m.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat((null==u?void 0:u.id)===e.id?"border-heartglow-pink bg-heartglow-pink/5":"border-gray-200 dark:border-gray-700 hover:border-heartglow-pink"),onClick:()=>handleSelect(e),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.relationship})]}),e.lastContact&&(0,n.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last contact: ",new Date(e.lastContact).toLocaleDateString()]})]})},e.id))}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{onClick:()=>{u&&t({recipient:u})},disabled:!u,className:"px-4 py-2 rounded-lg font-medium ".concat(u?"bg-heartglow-pink text-white hover:bg-heartglow-pink/90":"bg-gray-200 dark:bg-gray-700 text-gray-500 cursor-not-allowed"),children:"Next"})})]})}let g=[{id:"check-in",title:"Check In",description:"A simple message to see how they're doing",icon:"\uD83D\uDC4B"},{id:"gratitude",title:"Gratitude",description:"Express appreciation for their presence in your life",icon:"\uD83D\uDE4F"},{id:"support",title:"Support",description:"Offer help or encouragement during tough times",icon:"\uD83D\uDCAA"},{id:"celebration",title:"Celebration",description:"Share joy for their achievements or milestones",icon:"\uD83C\uDF89"},{id:"reconnection",title:"Reconnection",description:"Reach out after some time apart",icon:"\uD83E\uDD1D"},{id:"custom",title:"Custom",description:"Write your own message with a specific purpose",icon:"✍️"}];function IntentStep(e){let{onNext:t,onBack:a}=e,[s,i]=(0,r.useState)(null),handleSelect=e=>{i(e)};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"What's the purpose of your message?"}),(0,n.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Select the intent that best matches your goal"})]}),(0,n.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(e=>(0,n.jsx)(m.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat(s===e.id?"border-heartglow-pink bg-heartglow-pink/5":"border-gray-200 dark:border-gray-700 hover:border-heartglow-pink"),onClick:()=>handleSelect(e.id),children:(0,n.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,n.jsx)("span",{className:"text-2xl",children:e.icon}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,n.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]})]})},e.id))}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("button",{onClick:a,className:"px-4 py-2 rounded-lg font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Back"}),(0,n.jsx)("button",{onClick:()=>{s&&t({intent:s})},disabled:!s,className:"px-4 py-2 rounded-lg font-medium ".concat(s?"bg-heartglow-pink text-white hover:bg-heartglow-pink/90":"bg-gray-200 dark:bg-gray-700 text-gray-500 cursor-not-allowed"),children:"Next"})]})]})}var create_FormatStep=e=>{let{onNext:t,onBack:a,initialData:s}=e,[i,l]=(0,r.useState)((null==s?void 0:s.format)||""),[o,c]=(0,r.useState)((null==s?void 0:s.length)||""),[d,u]=(0,r.useState)({emailSubject:"",emojiPreference:"moderate",talkingPoints:3,platform:"general"});return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Choose Format & Length"}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Format"}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{id:"text",label:"Text Message",icon:"\uD83D\uDCF1"},{id:"email",label:"Email",icon:"\uD83D\uDCE7"},{id:"conversation",label:"In-Person Conversation",icon:"\uD83D\uDCAC"},{id:"card",label:"Greeting Card",icon:"\uD83D\uDC8C"},{id:"social",label:"Social Media",icon:"\uD83C\uDF10"},{id:"letter",label:"Letter",icon:"✉️"}].map(e=>(0,n.jsxs)("button",{onClick:()=>l(e.id),className:"p-4 border rounded-lg text-left transition-colors ".concat(i===e.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,n.jsx)("span",{className:"text-2xl mb-2 block",children:e.icon}),(0,n.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Length"}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{id:"brief",label:"Brief",description:"1-2 sentences"},{id:"standard",label:"Standard",description:"1 paragraph"},{id:"detailed",label:"Detailed",description:"2-3 paragraphs"},{id:"extended",label:"Extended",description:"Full letter/email"}].map(e=>(0,n.jsxs)("button",{onClick:()=>c(e.id),className:"p-4 border rounded-lg text-left transition-colors ".concat(o===e.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,n.jsx)("span",{className:"font-medium block",children:e.label}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:e.description})]},e.id))})]}),i&&(()=>{switch(i){case"email":return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Subject"}),(0,n.jsx)("input",{type:"text",value:d.emailSubject,onChange:e=>u(t=>({...t,emailSubject:e.target.value})),className:"w-full p-2 border rounded-lg",placeholder:"Enter email subject"})]});case"text":return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emoji Usage"}),(0,n.jsxs)("select",{value:d.emojiPreference,onChange:e=>u(t=>({...t,emojiPreference:e.target.value})),className:"w-full p-2 border rounded-lg",children:[(0,n.jsx)("option",{value:"none",children:"No emojis"}),(0,n.jsx)("option",{value:"minimal",children:"Minimal emojis"}),(0,n.jsx)("option",{value:"moderate",children:"Moderate emojis"}),(0,n.jsx)("option",{value:"frequent",children:"Frequent emojis"})]})]});case"conversation":return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Talking Points"}),(0,n.jsx)("input",{type:"number",min:"1",max:"10",value:d.talkingPoints,onChange:e=>u(t=>({...t,talkingPoints:parseInt(e.target.value)})),className:"w-full p-2 border rounded-lg"})]});case"social":return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform"}),(0,n.jsxs)("select",{value:d.platform,onChange:e=>u(t=>({...t,platform:e.target.value})),className:"w-full p-2 border rounded-lg",children:[(0,n.jsx)("option",{value:"general",children:"General"}),(0,n.jsx)("option",{value:"twitter",children:"Twitter"}),(0,n.jsx)("option",{value:"instagram",children:"Instagram"}),(0,n.jsx)("option",{value:"facebook",children:"Facebook"}),(0,n.jsx)("option",{value:"linkedin",children:"LinkedIn"})]})]});default:return null}})()]}),(0,n.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,n.jsx)("button",{onClick:a,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Back"}),(0,n.jsx)("button",{onClick:()=>{t({format:{type:i,length:o,...d}})},disabled:!i||!o,className:"flex-1 py-2 px-4 rounded-lg transition-colors ".concat(i&&o?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Continue"})]})]})},create_ToneStep=e=>{let{onNext:t,onBack:a,initialData:s}=e,[i,l]=(0,r.useState)((null==s?void 0:s.type)||""),[o,c]=(0,r.useState)((null==s?void 0:s.custom)||""),[d,u]=(0,r.useState)(!1);return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"What tone would you like to use?"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{id:"warm",label:"Warm",description:"Friendly and affectionate"},{id:"casual",label:"Casual",description:"Relaxed and informal"},{id:"sincere",label:"Sincere",description:"Honest and heartfelt"},{id:"playful",label:"Playful",description:"Light and fun"},{id:"formal",label:"Formal",description:"Professional and respectful"},{id:"reflective",label:"Reflective",description:"Thoughtful and introspective"},{id:"custom",label:"Custom",description:"Define your own tone"}].map(e=>(0,n.jsxs)("button",{onClick:()=>{l(e.id),u("custom"===e.id)},className:"p-4 border rounded-lg text-left transition-colors ".concat(i===e.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,n.jsx)("span",{className:"font-medium block",children:e.label}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:e.description})]},e.id))}),d&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe your desired tone"}),(0,n.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded-lg",placeholder:"e.g., Encouraging, Empathetic, etc.",required:!0})]})]}),(0,n.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,n.jsx)("button",{onClick:a,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Back"}),(0,n.jsx)("button",{onClick:()=>{t({tone:{type:i,custom:d?o:null}})},disabled:!i||d&&!o,className:"flex-1 py-2 px-4 rounded-lg transition-colors ".concat(i&&(!d||o)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Continue"})]})]})};function AdvancedStep(e){let{onNext:t,onBack:a}=e,[s,i]=(0,r.useState)(3),[l,o]=(0,r.useState)("");return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Advanced Options"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Intensity (1-5)"}),(0,n.jsx)("input",{type:"range",min:"1",max:"5",value:s,onChange:e=>i(Number(e.target.value)),className:"w-full"}),(0,n.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,n.jsx)("span",{children:"Subtle"}),(0,n.jsx)("span",{children:"Balanced"}),(0,n.jsx)("span",{children:"Intense"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Instructions (Optional)"}),(0,n.jsx)("textarea",{value:l,onChange:e=>o(e.target.value),className:"w-full p-2 border rounded-lg",rows:4,placeholder:"Add any specific instructions or preferences..."})]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("button",{onClick:a,className:"px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Back"}),(0,n.jsx)("button",{onClick:()=>{t({advanced:{intensity:s,customInstructions:l.trim()||null}})},className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Next"})]})]})}async function generateMessage(e){try{let t=function(e){let{recipient:t,intent:a,format:n,tone:r,advanced:s}=e,i="Create a ".concat(n.length," message for ").concat(t.name," (").concat(t.relationship,").\n\n");return i+="Intent: ".concat(a.custom||a.type,"\n")+"Tone: ".concat(r,"\n")+"Format: ".concat(n.type,"\n"),(null==s?void 0:s.intensity)&&(i+="Intensity level: ".concat(s.intensity,"/5\n")),(null==s?void 0:s.customInstructions)&&(i+="Additional instructions: ".concat(s.customInstructions,"\n")),i+="\nPlease generate a thoughtful, personalized message that feels authentic and appropriate for this relationship."}(e);console.log("Generating message with prompt:",t);let a=function(e){let{recipient:t,intent:a,tone:n}=e,r=["Dear ".concat(t.name),"Hi ".concat(t.name),"Hello ".concat(t.name)],s=["I wanted to reach out to you as my ".concat(t.relationship," to express how much you mean to me."),"I'm thinking of you today and wanted to share my thoughts.","I value our relationship so much and wanted to take a moment to tell you why."],i=["With love and appreciation,","Warmly,","Thinking of you,","With gratitude,"],l=a.custom||a.type||"this occasion",o=r[Math.floor(Math.random()*r.length)],c=s[Math.floor(Math.random()*s.length)],d=i[Math.floor(Math.random()*i.length)],u="";return u="appreciation"===a.type?"Thank you for being you and for all that you bring to my life.":"celebration"===a.type?"Congratulations on your achievements and success!":"support"===a.type?"I want you to know that I'm here for you, no matter what.":"I appreciate having you in my life.","\n".concat(o,",\n\n").concat(c,"\n\nI wanted to share this ").concat({warm:"heartfelt",professional:"respectful",casual:"relaxed",humorous:"lighthearted",sincere:"genuine",formal:"dignified"}[n]||"thoughtful"," message with you for ").concat(l,". Your presence in my life brings joy and meaning, and I appreciate all that you do.\n\n").concat(u,"\n\n").concat(d,"\n").trim()}(e);return{content:a,insights:["Message maintains appropriate tone throughout","Content is personalized to the recipient","Emotional intelligence is demonstrated"]}}catch(e){throw console.error("Error generating message:",e),e}}async function openai_generateMessage(e){try{return generateMessage(e)}catch(e){throw console.error("Error generating message:",e),e}}async function openai_generateMessageDirect(e){try{return generateMessage(e)}catch(e){return console.error("Error in direct message generation:",e),{content:"Unable to generate a message at this time. Please try again later.",insights:[]}}}function MessageOutput(e){let{recipient:t,intent:a,format:s,tone:i,advanced:l}=e,[c,u]=(0,r.useState)(!0),[g,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(""),[b,y]=(0,r.useState)(!1),[f,j]=(0,r.useState)(""),[v,w]=(0,r.useState)([]),[N,k]=(0,r.useState)(null),{user:C}=useAuth();(0,r.useEffect)(()=>{let generate=async()=>{try{let e;u(!0),k(null);let n={recipient:{name:t.name,relationship:t.relationship},intent:a,format:s,tone:i,advanced:l};try{e=await openai_generateMessage(n)}catch(t){console.warn("Cloud function failed, falling back to direct OpenAI:",t),e=await openai_generateMessageDirect(n)}j(e.content),w(e.insights)}catch(e){console.error("Error generating message:",e),k("Failed to generate message. Please try again.")}finally{u(!1)}};generate()},[t,a,s,i,l]);let handleSave=async()=>{if(!C){p("You must be logged in to save messages");return}h(!0),p(""),y(!1);try{let e={content:f,recipientName:t.name,recipientId:t.id||null,relationship:t.relationship,intent:a.type,tone:i,intensity:(null==l?void 0:l.intensity)||3,createdAt:(0,o.Bt)(),insights:v,messageCategory:a.type,messageFormat:s.type,messageIntention:a.custom||a.type,messageConfigTimestamp:new Date().toISOString()};await (0,o.ET)((0,o.hJ)(d,"users",C.uid,"messages"),e),y(!0)}catch(e){console.error("Error saving message:",e),p("Failed to save message. Please try again.")}finally{h(!1)}};return c?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-heartglow-pink mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Crafting your message..."})]}):N?(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-red-600 dark:text-red-400 mb-2",children:N}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-medium rounded-full px-6 py-2",children:"Try Again"})]}):(0,n.jsxs)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white dark:bg-heartglow-deepgray p-6 rounded-lg shadow-md border border-gray-100 dark:border-gray-800",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-4 text-heartglow-charcoal dark:text-heartglow-offwhite",children:"Generated Message"}),(0,n.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,n.jsx)("p",{className:"whitespace-pre-wrap text-gray-800 dark:text-gray-200",children:f})})]}),v.length>0&&(0,n.jsxs)("div",{className:"bg-white dark:bg-heartglow-deepgray p-6 rounded-lg shadow-md border border-gray-100 dark:border-gray-800",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-4 text-heartglow-charcoal dark:text-heartglow-offwhite",children:"Why This Message Works"}),(0,n.jsx)("ul",{className:"space-y-2",children:v.map((e,t)=>(0,n.jsxs)(m.E.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-start",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,n.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t))})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("button",{onClick:handleSave,disabled:g||!f,className:"px-6 py-3 rounded-full ".concat(g||!f?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-heartglow-pink to-heartglow-violet hover:from-heartglow-violet hover:to-heartglow-indigo"," text-white font-medium focus:outline-none focus:ring-2 focus:ring-heartglow-pink focus:ring-offset-2 transition-all duration-300 transform hover:-translate-y-1"),children:g?"Saving...":"Save Message"}),b&&(0,n.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"Message saved successfully!"}),x&&(0,n.jsx)("span",{className:"text-red-600 dark:text-red-400",children:x})]})]})}function CreatePage(){let e=(0,s.useRouter)(),{user:t,loading:a}=useAuth(),[i,l]=(0,r.useState)(1),[o,c]=(0,r.useState)({recipient:null,intent:null,format:null,tone:null,advanced:null});if(a)return(0,n.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-heartglow-pink"})});if(!t)return e.push("/login"),null;let handleNext=e=>{c(t=>({...t,...e})),l(e=>e+1)},handleBack=()=>{l(e=>e-1)};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-heartglow-deepgray py-12",children:(0,n.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-heartglow-deepgray rounded-lg shadow-sm p-6",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(e=>(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(e<i?"bg-heartglow-pink text-white":e===i?"bg-heartglow-violet text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:e}),e<5&&(0,n.jsx)("div",{className:"h-1 w-12 ".concat(e<i?"bg-heartglow-pink":"bg-gray-200 dark:bg-gray-700")})]},e))})}),(()=>{switch(i){case 1:return(0,n.jsx)(RecipientStep,{onNext:handleNext});case 2:return(0,n.jsx)(IntentStep,{onNext:handleNext,onBack:handleBack});case 3:return(0,n.jsx)(create_FormatStep,{onNext:handleNext,onBack:handleBack});case 4:return(0,n.jsx)(create_ToneStep,{onNext:handleNext,onBack:handleBack});case 5:return(0,n.jsx)(AdvancedStep,{onNext:handleNext,onBack:handleBack});case 6:return(0,n.jsx)(MessageOutput,{recipient:o.recipient,intent:o.intent,format:o.format,tone:o.tone,advanced:o.advanced});default:return null}})()]})})})}}},function(e){e.O(0,[700,774,888,179],function(){return e(e.s=7532)}),_N_E=e.O()}]);